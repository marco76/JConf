{"version":3,"sources":["TableData.js","components/calendar/calendar.js","loadData.js"],"names":["TableData","columns","json","content","options","weekday","year","month","day","dateTimeFormat","Intl","DateTimeFormat","Calendar","tableId","container","document","getElementById","tableData","setColumns","name","link","format","label","table","createElement","firstChild","removeChild","appendChild","console","log","window","onload","e","dataLoaded","loadData","getRemoteObjects","buildTable","row","createTHead","insertRow","getColumns","forEach","column","cell","insertCell","createTextNode","className","then","data","buildRows","tbody","createTBody","value","text","Date","span","a","setAttribute","url","index","init","promise","fetch","response"],"mappings":"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","file":"loadData.dab0a0b4.map","sourceRoot":"..","sourcesContent":["export default class TableData {\n    constructor() {\n\n    }\n\n    setColumns(columns) {\n        this.columns = columns;\n    }\n\n    getColumns() {\n        return this.columns;\n    }\n\n    setContent(json){\n        this.content = json;\n    }\n}","import TableData from \"../../TableData\";\nimport * as loadData from \"../../loadData\";\n\nlet options = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'};\nlet dateTimeFormat = new Intl.DateTimeFormat('de-DE');\n\nexport default class Calendar {\n\n\n    constructor(tableId) {\n        this.container = document.getElementById('tableContainer');\n\n        this.tableData = new TableData();\n        this.tableData.setColumns([{name: 'name', link: 'website'},\n            {name: 'begin', format: 'date'},\n            {name: 'end', format: 'date'},\n            {name: 'city'},\n            {name: 'isoCountry', label:' ', format: 'flag'},\n            {name: 'country'},\n\n            {name: 'cfp', format: 'date'}]);\n        this.table = document.createElement('table');\n\n        while (this.container.firstChild) {\n            this.container.removeChild(this.container.firstChild);\n        }\n        this.container.appendChild(this.table);\n        console.log('constructor init3');\n\n    };\n\n    init() {\n        console.log('index init');\n        window.onload = e => console.log(\"load\", e);\n\n        let dataLoaded = loadData.getRemoteObjects();\n        console.log('dataLoaded', dataLoaded);\n        this.buildTable(dataLoaded);\n    }\n\n    buildTable(dataLoaded) {\n        let thead = this.table.createTHead();\n        let row = thead.insertRow();\n\n\n        this.tableData.getColumns().forEach(\n            column => {\n                let cell = row.insertCell();\n                cell.appendChild(document.createTextNode(column.label ? column.label : column.name));\n                cell.className = 'table-' + column.format + ' ' + 'table-row-'+column.name;\n            });\n\n\n        dataLoaded.then(\n            data =>\n                this.buildRows(data)\n        )\n    }\n\n    buildRows(data) {\n        let tbody = this.table.createTBody();\n        data.forEach(\n            value => {\n                let row = tbody.insertRow();\n                this.tableData.getColumns().forEach(\n                    column => {\n                        let cell = row.insertCell();\n                        // Append a text node to the cell\n                        let text = (value[column.name]);\n\n                        if (column.format && column.format === 'date') {\n                            if (text) {\n                                text = dateTimeFormat.format(new Date(text), options);\n                            } else {\n                                text = '';\n\n                            }\n                            cell.className = 'table-' + column.format + ' ';\n                            cell.appendChild(document.createTextNode(text));\n                        } else if (column.format && column.format === 'flag') {\n                            let span = document.createElement('span');\n                            cell.appendChild(span);\n                            span.className = \"flag-icon flag-icon-\" + text;\n                        } else {\n                            if (column.link) {\n                                let a = document.createElement('a');\n                                a.setAttribute('href', value[column.link]);\n                                cell.appendChild(a);\n                                a.appendChild(document.createTextNode(text));\n                            } else {\n                                cell.appendChild(document.createTextNode(text));\n                            }\n                        }\n                        cell.className += \"col-\" + column.name;\n\n                    }\n                )\n\n\n            })\n    }\n\n}\n","import Calendar from './components/calendar/calendar'\n\nconst url = 'http://www.jconf.org/api/conferences';\n\nlet index = new Calendar().init();\nexport function getRemoteObjects() {\n    const promise = fetch(url);\n    return promise.then(\n        response => {\n             return response.json()\n        });\n}\n"]}